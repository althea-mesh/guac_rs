<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1"
 width="1200px" height="465px"
 viewBox="0 0 1200 465"
 xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges"
 stroke-width="1" text-rendering="geometricPrecision">
<polygon fill="white" points="145,7 153,7 153,16 145,16"/>
<text x="150" y="16" textLength="7" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

u
</text>
<polygon fill="white" points="445,7 453,7 453,16 445,16"/>
<text x="450" y="16" textLength="7" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

a
</text>
<polygon fill="white" points="745,7 753,7 753,16 745,16"/>
<text x="750" y="16" textLength="7" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

b
</text>
<polygon fill="white" points="1045,7 1053,7 1053,16 1045,16"/>
<text x="1050" y="16" textLength="6" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

c
</text>
<line x1="150" y1="22" x2="150" y2="50" stroke="black"/>
<line x1="450" y1="22" x2="450" y2="50" stroke="black"/>
<line x1="750" y1="22" x2="750" y2="50" stroke="black"/>
<line x1="1050" y1="22" x2="1050" y2="50" stroke="black"/>
<line x1="150" y1="33" x2="450" y2="33" stroke="black"/>
<polygon fill="black" points="450,33 440,39 440,27"/>
<polygon fill="white" points="238,23 361,23 361,32 238,32"/>
<text x="239" y="32" textLength="121" font-family="Helvetica" font-size="12" fill="black">
registerCounterparty B
</text>
<path d="M 750 27 A150,6 0 0,1 750,39" stroke="black" fill="none"/><polygon fill="black" points="750,39 760,45 760,33"/>
<polygon fill="white" points="625,23 748,23 748,32 625,32"/>
<text x="626" y="32" textLength="121" font-family="Helvetica" font-size="12" fill="black">
registerCounterparty A
</text>
<line x1="150" y1="50" x2="150" y2="78" stroke="black"/>
<line x1="450" y1="50" x2="450" y2="78" stroke="black"/>
<line x1="750" y1="50" x2="750" y2="78" stroke="black"/>
<line x1="1050" y1="50" x2="1050" y2="78" stroke="black"/>
<polygon fill="white" points="308,50 592,50 592,72 308,72"/>
<line x1="308" y1="50" x2="592" y2="50" stroke="black"/>
<line x1="308" y1="72" x2="592" y2="72" stroke="black"/>
<line x1="308" y1="50" x2="308" y2="72" stroke="black"/>
<line x1="592" y1="50" x2="592" y2="72" stroke="black"/>
<polygon fill="white" points="422,57 477,57 477,66 422,66"/>
<text x="423" y="66" textLength="53" font-family="Helvetica" font-size="12" fill="black">
state New
</text>
<polygon fill="white" points="608,50 892,50 892,72 608,72"/>
<line x1="608" y1="50" x2="892" y2="50" stroke="black"/>
<line x1="608" y1="72" x2="892" y2="72" stroke="black"/>
<line x1="608" y1="50" x2="608" y2="72" stroke="black"/>
<line x1="892" y1="50" x2="892" y2="72" stroke="black"/>
<polygon fill="white" points="722,57 777,57 777,66 722,66"/>
<text x="723" y="66" textLength="53" font-family="Helvetica" font-size="12" fill="black">
state New
</text>
<line x1="150" y1="78" x2="150" y2="95" stroke="black"/>
<line x1="450" y1="78" x2="450" y2="95" stroke="black"/>
<line x1="750" y1="78" x2="750" y2="95" stroke="black"/>
<line x1="1050" y1="78" x2="1050" y2="95" stroke="black"/>
<line x1="150" y1="95" x2="150" y2="123" stroke="black"/>
<line x1="450" y1="95" x2="450" y2="123" stroke="black"/>
<line x1="750" y1="95" x2="750" y2="123" stroke="black"/>
<line x1="1050" y1="95" x2="1050" y2="123" stroke="black"/>
<line x1="150" y1="106" x2="450" y2="106" stroke="black"/>
<polygon fill="black" points="450,106 440,112 440,100"/>
<polygon fill="white" points="255,96 344,96 344,105 255,105"/>
<text x="256" y="105" textLength="87" font-family="Helvetica" font-size="12" fill="black">
fillChannel B, 10
</text>
<line x1="150" y1="123" x2="150" y2="151" stroke="black"/>
<line x1="450" y1="123" x2="450" y2="151" stroke="black"/>
<line x1="750" y1="123" x2="750" y2="151" stroke="black"/>
<line x1="1050" y1="123" x2="1050" y2="151" stroke="black"/>
<line x1="450" y1="134" x2="750" y2="134" stroke="black"/>
<polygon fill="black" points="750,134 740,140 740,128"/>
<polygon fill="white" points="510,124 688,124 688,133 510,133"/>
<text x="511" y="133" textLength="176" font-family="Helvetica" font-size="12" fill="black">
proposed newChannel A: 10, B:0
</text>
<line x1="150" y1="151" x2="150" y2="179" stroke="black"/>
<line x1="450" y1="151" x2="450" y2="179" stroke="black"/>
<line x1="750" y1="151" x2="750" y2="179" stroke="black"/>
<line x1="1050" y1="151" x2="1050" y2="179" stroke="black"/>
<polygon fill="white" points="608,151 892,151 892,173 608,173"/>
<line x1="608" y1="151" x2="892" y2="151" stroke="black"/>
<line x1="608" y1="173" x2="892" y2="173" stroke="black"/>
<line x1="608" y1="151" x2="608" y2="173" stroke="black"/>
<line x1="892" y1="151" x2="892" y2="173" stroke="black"/>
<polygon fill="white" points="696,158 803,158 803,167 696,167"/>
<text x="697" y="167" textLength="105" font-family="Helvetica" font-size="12" fill="black">
state OtherCreating
</text>
<line x1="150" y1="179" x2="150" y2="207" stroke="black"/>
<line x1="450" y1="179" x2="450" y2="207" stroke="black"/>
<line x1="750" y1="179" x2="750" y2="207" stroke="black"/>
<line x1="1050" y1="179" x2="1050" y2="207" stroke="black"/>
<line x1="750" y1="190" x2="450" y2="190" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,190 460,196 460,184"/>
<polygon fill="white" points="518,180 681,180 681,189 518,189"/>
<text x="519" y="189" textLength="161" font-family="Helvetica" font-size="12" fill="black">
signed newChannel A: 10, B:0
</text>
<line x1="150" y1="207" x2="150" y2="235" stroke="black"/>
<line x1="450" y1="207" x2="450" y2="235" stroke="black"/>
<line x1="750" y1="207" x2="750" y2="235" stroke="black"/>
<line x1="1050" y1="207" x2="1050" y2="235" stroke="black"/>
<polygon fill="white" points="308,207 592,207 592,229 308,229"/>
<line x1="308" y1="207" x2="592" y2="207" stroke="black"/>
<line x1="308" y1="229" x2="592" y2="229" stroke="black"/>
<line x1="308" y1="207" x2="308" y2="229" stroke="black"/>
<line x1="592" y1="207" x2="592" y2="229" stroke="black"/>
<polygon fill="white" points="411,214 488,214 488,223 411,223"/>
<text x="412" y="223" textLength="75" font-family="Helvetica" font-size="12" fill="black">
state Creating
</text>
<line x1="150" y1="235" x2="150" y2="263" stroke="black"/>
<line x1="450" y1="235" x2="450" y2="263" stroke="black"/>
<line x1="750" y1="235" x2="750" y2="263" stroke="black"/>
<line x1="1050" y1="235" x2="1050" y2="263" stroke="black"/>
<line x1="450" y1="246" x2="1050" y2="246" stroke="black"/>
<polygon fill="black" points="1050,246 1040,252 1040,240"/>
<polygon fill="white" points="668,236 831,236 831,245 668,245"/>
<text x="669" y="245" textLength="161" font-family="Helvetica" font-size="12" fill="black">
submit newChannel A: 10, B:0
</text>
<line x1="150" y1="263" x2="150" y2="280" stroke="black" stroke-dasharray="2,2"/>
<line x1="450" y1="263" x2="450" y2="280" stroke="black" stroke-dasharray="2,2"/>
<line x1="750" y1="263" x2="750" y2="280" stroke="black" stroke-dasharray="2,2"/>
<line x1="1050" y1="263" x2="1050" y2="280" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="545,264 653,264 653,273 545,273"/>
<text x="546" y="273" textLength="106" font-family="Helvetica" font-size="12" fill="black">
After some polling...
</text>
<line x1="150" y1="280" x2="150" y2="308" stroke="black"/>
<line x1="450" y1="280" x2="450" y2="308" stroke="black"/>
<line x1="750" y1="280" x2="750" y2="308" stroke="black"/>
<line x1="1050" y1="280" x2="1050" y2="308" stroke="black"/>
<line x1="1050" y1="291" x2="450" y2="291" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,291 460,297 460,285"/>
<polygon fill="white" points="690,281 809,281 809,290 690,290"/>
<text x="691" y="290" textLength="117" font-family="Helvetica" font-size="12" fill="black">
channelOpened event
</text>
<line x1="150" y1="308" x2="150" y2="336" stroke="black"/>
<line x1="450" y1="308" x2="450" y2="336" stroke="black"/>
<line x1="750" y1="308" x2="750" y2="336" stroke="black"/>
<line x1="1050" y1="308" x2="1050" y2="336" stroke="black"/>
<line x1="450" y1="319" x2="750" y2="319" stroke="black"/>
<polygon fill="black" points="750,319 740,325 740,313"/>
<polygon fill="white" points="526,309 673,309 673,318 526,318"/>
<text x="527" y="318" textLength="145" font-family="Helvetica" font-size="12" fill="black">
channelOpened notification
</text>
<line x1="750" y1="319" x2="1050" y2="319" stroke="black"/>
<polygon fill="black" points="1050,319 1040,325 1040,313"/>
<polygon fill="white" points="840,309 959,309 959,318 840,318"/>
<text x="841" y="318" textLength="117" font-family="Helvetica" font-size="12" fill="black">
verify channelOpened
</text>
<line x1="150" y1="336" x2="150" y2="364" stroke="black"/>
<line x1="450" y1="336" x2="450" y2="364" stroke="black"/>
<line x1="750" y1="336" x2="750" y2="364" stroke="black"/>
<line x1="1050" y1="336" x2="1050" y2="364" stroke="black"/>
<line x1="1050" y1="347" x2="750" y2="347" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="750,347 760,353 760,341"/>
<polygon fill="white" points="833,337 966,337 966,346 833,346"/>
<text x="834" y="346" textLength="131" font-family="Helvetica" font-size="12" fill="black">
channelOpened success
</text>
<line x1="150" y1="364" x2="150" y2="392" stroke="black"/>
<line x1="450" y1="364" x2="450" y2="392" stroke="black"/>
<line x1="750" y1="364" x2="750" y2="392" stroke="black"/>
<line x1="1050" y1="364" x2="1050" y2="392" stroke="black"/>
<polygon fill="white" points="608,364 892,364 892,386 608,386"/>
<line x1="608" y1="364" x2="892" y2="364" stroke="black"/>
<line x1="608" y1="386" x2="892" y2="386" stroke="black"/>
<line x1="608" y1="364" x2="608" y2="386" stroke="black"/>
<line x1="892" y1="364" x2="892" y2="386" stroke="black"/>
<polygon fill="white" points="719,371 780,371 780,380 719,380"/>
<text x="720" y="380" textLength="59" font-family="Helvetica" font-size="12" fill="black">
state Open
</text>
<line x1="150" y1="392" x2="150" y2="420" stroke="black"/>
<line x1="450" y1="392" x2="450" y2="420" stroke="black"/>
<line x1="750" y1="392" x2="750" y2="420" stroke="black"/>
<line x1="1050" y1="392" x2="1050" y2="420" stroke="black"/>
<line x1="750" y1="403" x2="450" y2="403" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,403 460,409 460,397"/>
<polygon fill="white" points="533,393 666,393 666,402 533,402"/>
<text x="534" y="402" textLength="131" font-family="Helvetica" font-size="12" fill="black">
channelOpened success
</text>
<line x1="150" y1="420" x2="150" y2="448" stroke="black"/>
<line x1="450" y1="420" x2="450" y2="448" stroke="black"/>
<line x1="750" y1="420" x2="750" y2="448" stroke="black"/>
<line x1="1050" y1="420" x2="1050" y2="448" stroke="black"/>
<polygon fill="white" points="308,420 592,420 592,442 308,442"/>
<line x1="308" y1="420" x2="592" y2="420" stroke="black"/>
<line x1="308" y1="442" x2="592" y2="442" stroke="black"/>
<line x1="308" y1="420" x2="308" y2="442" stroke="black"/>
<line x1="592" y1="420" x2="592" y2="442" stroke="black"/>
<polygon fill="white" points="419,427 480,427 480,436 419,436"/>
<text x="420" y="436" textLength="59" font-family="Helvetica" font-size="12" fill="black">
state Open
</text>
<line x1="150" y1="448" x2="150" y2="465" stroke="black"/>
<line x1="450" y1="448" x2="450" y2="465" stroke="black"/>
<line x1="750" y1="448" x2="750" y2="465" stroke="black"/>
<line x1="1050" y1="448" x2="1050" y2="465" stroke="black"/>
<line x1="75" y1="453" x2="1125" y2="453" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="535,449 663,449 663,458 535,458"/>
<text x="536" y="458" textLength="126" font-family="Helvetica" font-size="12" fill="black">
Channel is ready to use
</text>
<line x1="150" y1="459" x2="150" y2="465" stroke="black"/>
<line x1="450" y1="459" x2="450" y2="465" stroke="black"/>
<line x1="750" y1="459" x2="750" y2="465" stroke="black"/>
<line x1="1050" y1="459" x2="1050" y2="465" stroke="black"/>
</svg>
