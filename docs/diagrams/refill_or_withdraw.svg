<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1"
 width="1200px" height="577px"
 viewBox="0 0 1200 577"
 xmlns="http://www.w3.org/2000/svg" shape-rendering="crispEdges"
 stroke-width="1" text-rendering="geometricPrecision">
<polygon fill="white" points="145,7 153,7 153,16 145,16"/>
<text x="150" y="16" textLength="7" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

u
</text>
<polygon fill="white" points="445,7 453,7 453,16 445,16"/>
<text x="450" y="16" textLength="7" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

a
</text>
<polygon fill="white" points="745,7 753,7 753,16 745,16"/>
<text x="750" y="16" textLength="7" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

b
</text>
<polygon fill="white" points="1045,7 1053,7 1053,16 1045,16"/>
<text x="1050" y="16" textLength="6" font-family="Helvetica" font-size="12" fill="black" text-anchor="middle">

c
</text>
<line x1="150" y1="22" x2="150" y2="39" stroke="black"/>
<line x1="450" y1="22" x2="450" y2="39" stroke="black"/>
<line x1="750" y1="22" x2="750" y2="39" stroke="black"/>
<line x1="1050" y1="22" x2="1050" y2="39" stroke="black"/>
<line x1="75" y1="27" x2="1125" y2="27" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="497,23 702,23 702,32 497,32"/>
<text x="498" y="32" textLength="203" font-family="Helvetica" font-size="12" fill="black">
Channel is already open with A:1, B: 9
</text>
<line x1="150" y1="39" x2="150" y2="67" stroke="black"/>
<line x1="450" y1="39" x2="450" y2="67" stroke="black"/>
<line x1="750" y1="39" x2="750" y2="67" stroke="black"/>
<line x1="1050" y1="39" x2="1050" y2="67" stroke="black"/>
<polygon fill="white" points="308,39 592,39 592,61 308,61"/>
<line x1="308" y1="39" x2="592" y2="39" stroke="black"/>
<line x1="308" y1="61" x2="592" y2="61" stroke="black"/>
<line x1="308" y1="39" x2="308" y2="61" stroke="black"/>
<line x1="592" y1="39" x2="592" y2="61" stroke="black"/>
<polygon fill="white" points="419,46 480,46 480,55 419,55"/>
<text x="420" y="55" textLength="59" font-family="Helvetica" font-size="12" fill="black">
state Open
</text>
<polygon fill="white" points="608,39 892,39 892,61 608,61"/>
<line x1="608" y1="39" x2="892" y2="39" stroke="black"/>
<line x1="608" y1="61" x2="892" y2="61" stroke="black"/>
<line x1="608" y1="39" x2="608" y2="61" stroke="black"/>
<line x1="892" y1="39" x2="892" y2="61" stroke="black"/>
<polygon fill="white" points="719,46 780,46 780,55 719,55"/>
<text x="720" y="55" textLength="59" font-family="Helvetica" font-size="12" fill="black">
state Open
</text>
<line x1="150" y1="67" x2="150" y2="95" stroke="black"/>
<line x1="450" y1="67" x2="450" y2="95" stroke="black"/>
<line x1="750" y1="67" x2="750" y2="95" stroke="black"/>
<line x1="1050" y1="67" x2="1050" y2="95" stroke="black"/>
<line x1="150" y1="78" x2="450" y2="78" stroke="black"/>
<polygon fill="black" points="450,78 440,84 440,72"/>
<polygon fill="white" points="255,68 344,68 344,77 255,77"/>
<text x="256" y="77" textLength="87" font-family="Helvetica" font-size="12" fill="black">
fillChannel B, 10
</text>
<line x1="150" y1="95" x2="150" y2="123" stroke="black"/>
<line x1="450" y1="95" x2="450" y2="123" stroke="black"/>
<line x1="750" y1="95" x2="750" y2="123" stroke="black"/>
<line x1="1050" y1="95" x2="1050" y2="123" stroke="black"/>
<polygon fill="white" points="308,95 592,95 592,117 308,117"/>
<line x1="308" y1="95" x2="592" y2="95" stroke="black"/>
<line x1="308" y1="117" x2="592" y2="117" stroke="black"/>
<line x1="308" y1="95" x2="308" y2="117" stroke="black"/>
<line x1="592" y1="95" x2="592" y2="117" stroke="black"/>
<polygon fill="white" points="407,102 492,102 492,111 407,111"/>
<text x="408" y="111" textLength="83" font-family="Helvetica" font-size="12" fill="black">
state Proposing
</text>
<line x1="150" y1="123" x2="150" y2="151" stroke="black"/>
<line x1="450" y1="123" x2="450" y2="151" stroke="black"/>
<line x1="750" y1="123" x2="750" y2="151" stroke="black"/>
<line x1="1050" y1="123" x2="1050" y2="151" stroke="black"/>
<line x1="450" y1="134" x2="750" y2="134" stroke="black"/>
<polygon fill="black" points="750,134 740,140 740,128"/>
<polygon fill="white" points="527,124 672,124 672,133 527,133"/>
<text x="528" y="133" textLength="143" font-family="Helvetica" font-size="12" fill="black">
propose closeChannelFast
</text>
<line x1="150" y1="151" x2="150" y2="179" stroke="black"/>
<line x1="450" y1="151" x2="450" y2="179" stroke="black"/>
<line x1="750" y1="151" x2="750" y2="179" stroke="black"/>
<line x1="1050" y1="151" x2="1050" y2="179" stroke="black"/>
<line x1="450" y1="162" x2="750" y2="162" stroke="black"/>
<polygon fill="black" points="750,162 740,168 740,156"/>
<polygon fill="white" points="512,152 687,152 687,161 512,161"/>
<text x="513" y="161" textLength="173" font-family="Helvetica" font-size="12" fill="black">
propose newChannel A: 11, B: 9
</text>
<line x1="150" y1="179" x2="150" y2="207" stroke="black"/>
<line x1="450" y1="179" x2="450" y2="207" stroke="black"/>
<line x1="750" y1="179" x2="750" y2="207" stroke="black"/>
<line x1="1050" y1="179" x2="1050" y2="207" stroke="black"/>
<polygon fill="white" points="608,179 892,179 892,201 608,201"/>
<line x1="608" y1="179" x2="892" y2="179" stroke="black"/>
<line x1="608" y1="201" x2="892" y2="201" stroke="black"/>
<line x1="608" y1="179" x2="608" y2="201" stroke="black"/>
<line x1="892" y1="179" x2="892" y2="201" stroke="black"/>
<polygon fill="white" points="696,186 803,186 803,195 696,195"/>
<text x="697" y="195" textLength="105" font-family="Helvetica" font-size="12" fill="black">
state OtherCreating
</text>
<line x1="150" y1="207" x2="150" y2="235" stroke="black"/>
<line x1="450" y1="207" x2="450" y2="235" stroke="black"/>
<line x1="750" y1="207" x2="750" y2="235" stroke="black"/>
<line x1="1050" y1="207" x2="1050" y2="235" stroke="black"/>
<line x1="750" y1="218" x2="450" y2="218" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,218 460,224 460,212"/>
<polygon fill="white" points="524,208 675,208 675,217 524,217"/>
<text x="525" y="217" textLength="149" font-family="Helvetica" font-size="12" fill="black">
signature closeChannelFast
</text>
<line x1="150" y1="235" x2="150" y2="263" stroke="black"/>
<line x1="450" y1="235" x2="450" y2="263" stroke="black"/>
<line x1="750" y1="235" x2="750" y2="263" stroke="black"/>
<line x1="1050" y1="235" x2="1050" y2="263" stroke="black"/>
<line x1="750" y1="246" x2="450" y2="246" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,246 460,252 460,240"/>
<polygon fill="white" points="509,236 690,236 690,245 509,245"/>
<text x="510" y="245" textLength="179" font-family="Helvetica" font-size="12" fill="black">
signature newChannel A: 11, B: 9
</text>
<line x1="150" y1="263" x2="150" y2="291" stroke="black"/>
<line x1="450" y1="263" x2="450" y2="291" stroke="black"/>
<line x1="750" y1="263" x2="750" y2="291" stroke="black"/>
<line x1="1050" y1="263" x2="1050" y2="291" stroke="black"/>
<polygon fill="white" points="308,263 592,263 592,285 308,285"/>
<line x1="308" y1="263" x2="592" y2="263" stroke="black"/>
<line x1="308" y1="285" x2="592" y2="285" stroke="black"/>
<line x1="308" y1="263" x2="308" y2="285" stroke="black"/>
<line x1="592" y1="263" x2="592" y2="285" stroke="black"/>
<polygon fill="white" points="411,270 488,270 488,279 411,279"/>
<text x="412" y="279" textLength="75" font-family="Helvetica" font-size="12" fill="black">
state Creating
</text>
<line x1="150" y1="291" x2="150" y2="319" stroke="black"/>
<line x1="450" y1="291" x2="450" y2="319" stroke="black"/>
<line x1="750" y1="291" x2="750" y2="319" stroke="black"/>
<line x1="1050" y1="291" x2="1050" y2="319" stroke="black"/>
<line x1="450" y1="302" x2="1050" y2="302" stroke="black"/>
<polygon fill="black" points="1050,302 1040,308 1040,296"/>
<polygon fill="white" points="681,292 818,292 818,301 681,301"/>
<text x="682" y="301" textLength="135" font-family="Helvetica" font-size="12" fill="black">
submit closeChannelFast
</text>
<line x1="150" y1="319" x2="150" y2="347" stroke="black"/>
<line x1="450" y1="319" x2="450" y2="347" stroke="black"/>
<line x1="750" y1="319" x2="750" y2="347" stroke="black"/>
<line x1="1050" y1="319" x2="1050" y2="347" stroke="black"/>
<line x1="450" y1="330" x2="1050" y2="330" stroke="black"/>
<polygon fill="black" points="1050,330 1040,336 1040,324"/>
<polygon fill="white" points="668,320 831,320 831,329 668,329"/>
<text x="669" y="329" textLength="161" font-family="Helvetica" font-size="12" fill="black">
submit newChannel A: 11, B:9
</text>
<line x1="150" y1="347" x2="150" y2="364" stroke="black" stroke-dasharray="2,2"/>
<line x1="450" y1="347" x2="450" y2="364" stroke="black" stroke-dasharray="2,2"/>
<line x1="750" y1="347" x2="750" y2="364" stroke="black" stroke-dasharray="2,2"/>
<line x1="1050" y1="347" x2="1050" y2="364" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="545,348 653,348 653,357 545,357"/>
<text x="546" y="357" textLength="106" font-family="Helvetica" font-size="12" fill="black">
After some polling...
</text>
<line x1="150" y1="364" x2="150" y2="392" stroke="black"/>
<line x1="450" y1="364" x2="450" y2="392" stroke="black"/>
<line x1="750" y1="364" x2="750" y2="392" stroke="black"/>
<line x1="1050" y1="364" x2="1050" y2="392" stroke="black"/>
<line x1="1050" y1="375" x2="450" y2="375" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,375 460,381 460,369"/>
<polygon fill="white" points="696,365 802,365 802,374 696,374"/>
<text x="697" y="374" textLength="104" font-family="Helvetica" font-size="12" fill="black">
channelOpen event
</text>
<line x1="150" y1="392" x2="150" y2="420" stroke="black"/>
<line x1="450" y1="392" x2="450" y2="420" stroke="black"/>
<line x1="750" y1="392" x2="750" y2="420" stroke="black"/>
<line x1="1050" y1="392" x2="1050" y2="420" stroke="black"/>
<line x1="150" y1="403" x2="375" y2="403" stroke="black"/>
<line x1="371" y1="399" x2="379" y2="407" stroke="black"/>
<line x1="379" y1="399" x2="371" y2="407" stroke="black"/>
<polygon fill="white" points="248,393 351,393 351,402 248,402"/>
<text x="249" y="402" textLength="101" font-family="Helvetica" font-size="12" fill="black">
makePayment B, 1
</text>
<line x1="150" y1="420" x2="150" y2="448" stroke="black"/>
<line x1="450" y1="420" x2="450" y2="448" stroke="black"/>
<line x1="750" y1="420" x2="750" y2="448" stroke="black"/>
<line x1="1050" y1="420" x2="1050" y2="448" stroke="black"/>
<line x1="450" y1="431" x2="750" y2="431" stroke="black"/>
<polygon fill="black" points="750,431 740,437 740,425"/>
<polygon fill="white" points="526,421 673,421 673,430 526,430"/>
<text x="527" y="430" textLength="145" font-family="Helvetica" font-size="12" fill="black">
channelOpened notification
</text>
<line x1="750" y1="431" x2="1050" y2="431" stroke="black"/>
<polygon fill="black" points="1050,431 1040,437 1040,425"/>
<polygon fill="white" points="840,421 959,421 959,430 840,430"/>
<text x="841" y="430" textLength="117" font-family="Helvetica" font-size="12" fill="black">
verify channelOpened
</text>
<line x1="150" y1="448" x2="150" y2="476" stroke="black"/>
<line x1="450" y1="448" x2="450" y2="476" stroke="black"/>
<line x1="750" y1="448" x2="750" y2="476" stroke="black"/>
<line x1="1050" y1="448" x2="1050" y2="476" stroke="black"/>
<line x1="1050" y1="459" x2="750" y2="459" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="750,459 760,465 760,453"/>
<polygon fill="white" points="833,449 966,449 966,458 833,458"/>
<text x="834" y="458" textLength="131" font-family="Helvetica" font-size="12" fill="black">
channelOpened success
</text>
<line x1="150" y1="476" x2="150" y2="504" stroke="black"/>
<line x1="450" y1="476" x2="450" y2="504" stroke="black"/>
<line x1="750" y1="476" x2="750" y2="504" stroke="black"/>
<line x1="1050" y1="476" x2="1050" y2="504" stroke="black"/>
<polygon fill="white" points="608,476 892,476 892,498 608,498"/>
<line x1="608" y1="476" x2="892" y2="476" stroke="black"/>
<line x1="608" y1="498" x2="892" y2="498" stroke="black"/>
<line x1="608" y1="476" x2="608" y2="498" stroke="black"/>
<line x1="892" y1="476" x2="892" y2="498" stroke="black"/>
<polygon fill="white" points="719,483 780,483 780,492 719,492"/>
<text x="720" y="492" textLength="59" font-family="Helvetica" font-size="12" fill="black">
state Open
</text>
<line x1="150" y1="504" x2="150" y2="532" stroke="black"/>
<line x1="450" y1="504" x2="450" y2="532" stroke="black"/>
<line x1="750" y1="504" x2="750" y2="532" stroke="black"/>
<line x1="1050" y1="504" x2="1050" y2="532" stroke="black"/>
<line x1="750" y1="515" x2="450" y2="515" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="black" points="450,515 460,521 460,509"/>
<polygon fill="white" points="533,505 666,505 666,514 533,514"/>
<text x="534" y="514" textLength="131" font-family="Helvetica" font-size="12" fill="black">
channelOpened success
</text>
<line x1="150" y1="532" x2="150" y2="560" stroke="black"/>
<line x1="450" y1="532" x2="450" y2="560" stroke="black"/>
<line x1="750" y1="532" x2="750" y2="560" stroke="black"/>
<line x1="1050" y1="532" x2="1050" y2="560" stroke="black"/>
<polygon fill="white" points="308,532 592,532 592,554 308,554"/>
<line x1="308" y1="532" x2="592" y2="532" stroke="black"/>
<line x1="308" y1="554" x2="592" y2="554" stroke="black"/>
<line x1="308" y1="532" x2="308" y2="554" stroke="black"/>
<line x1="592" y1="532" x2="592" y2="554" stroke="black"/>
<polygon fill="white" points="419,539 480,539 480,548 419,548"/>
<text x="420" y="548" textLength="59" font-family="Helvetica" font-size="12" fill="black">
state Open
</text>
<line x1="150" y1="560" x2="150" y2="577" stroke="black"/>
<line x1="450" y1="560" x2="450" y2="577" stroke="black"/>
<line x1="750" y1="560" x2="750" y2="577" stroke="black"/>
<line x1="1050" y1="560" x2="1050" y2="577" stroke="black"/>
<line x1="75" y1="565" x2="1125" y2="565" stroke="black" stroke-dasharray="2,2"/>
<polygon fill="white" points="535,561 663,561 663,570 535,570"/>
<text x="536" y="570" textLength="126" font-family="Helvetica" font-size="12" fill="black">
Channel is ready to use
</text>
<line x1="150" y1="571" x2="150" y2="577" stroke="black"/>
<line x1="450" y1="571" x2="450" y2="577" stroke="black"/>
<line x1="750" y1="571" x2="750" y2="577" stroke="black"/>
<line x1="1050" y1="571" x2="1050" y2="577" stroke="black"/>
</svg>
